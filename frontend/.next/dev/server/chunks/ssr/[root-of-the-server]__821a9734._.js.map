{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/akinkorinista/bootcamp/umezu_section6_1/frontend/src/app/admin/profile/page.tsx"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport { auth } from '@/lib/firebase';\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth'; // Firebase の道具をインポート\n\nexport default function AdminProfilePage() {\n  const [name, setName] = useState('');\n  const [bio, setBio] = useState('');\n\n  const handleTestLogin = async () => {\n    const auth = getAuth();\n    try {\n      await signInWithEmailAndPassword(\n        auth,\n        'talsolidesignworks@gmail.com',\n        'gama0318'\n      );\n      alert('ログインしました！');\n    } catch (err: any) {\n      alert('ログイン失敗: ' + err.message);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const auth = getAuth();\n    const user = auth.currentUser;\n\n    if (!user) {\n      alert('ログインが必要です。下のテストボタンを押してください。');\n      return;\n    }\n\n    try {\n      const token = await user.getIdToken();\n      const response = await fetch('http://localhost:3001/profile', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ name, bio }),\n      });\n\n      if (response.ok) {\n        alert('プロフィールの更新に成功しました！');\n      } else {\n        alert(\n          '更新に失敗しました...（バックエンド側のログを確認してください）'\n        );\n      }\n    } catch (error) {\n      console.error('通信エラー:', error);\n      alert('サーバーと通信できませんでした。CORS設定は大丈夫ですか？');\n    }\n  };\n\n  return (\n    <div className=\"p-10 text-black bg-white min-h-screen\">\n      <h1 className=\"text-xl font-bold mb-4\">プロフィール編集</h1>\n\n      {/* 💡 type=\"button\" を付けて、送信を邪魔しないようにします */}\n      <button\n        type=\"button\"\n        onClick={handleTestLogin}\n        className=\"mb-8 block p-2 bg-gray-200 rounded text-sm underline\"\n      >\n        （テスト用）管理者ログインを実行\n      </button>\n\n      <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n        <input\n          type=\"text\"\n          placeholder=\"名前\"\n          className=\"border p-2 rounded\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <textarea\n          placeholder=\"自己紹介\"\n          className=\"border p-2 rounded\"\n          value={bio}\n          onChange={(e) => setBio(e.target.value)}\n        />\n        <button type=\"submit\" className=\"bg-blue-600 text-white p-2 rounded\">\n          更新を保存する\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA,wWAAqE,qBAAqB;AAA1F;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6PAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,6PAAQ,EAAC;IAE/B,MAAM,kBAAkB;QACtB,MAAM,OAAO,IAAA,yNAAO;QACpB,IAAI;YACF,MAAM,IAAA,4OAA0B,EAC9B,MACA,gCACA;YAEF,MAAM;QACR,EAAE,OAAO,KAAU;YACjB,MAAM,aAAa,IAAI,OAAO;QAChC;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,OAAO,IAAA,yNAAO;QACpB,MAAM,OAAO,KAAK,WAAW;QAE7B,IAAI,CAAC,MAAM;YACT,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,QAAQ,MAAM,KAAK,UAAU;YACnC,MAAM,WAAW,MAAM,MAAM,iCAAiC;gBAC5D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;gBAAI;YACnC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM;YACR,OAAO;gBACL,MACE;YAEJ;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,UAAU;YACxB,MAAM;QACR;IACF;IAEA,qBACE,0RAAC;QAAI,WAAU;;0BACb,0RAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAGvC,0RAAC;gBACC,MAAK;gBACL,SAAS;gBACT,WAAU;0BACX;;;;;;0BAID,0RAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,0RAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;kCAEzC,0RAAC;wBACC,aAAY;wBACZ,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;kCAExC,0RAAC;wBAAO,MAAK;wBAAS,WAAU;kCAAqC;;;;;;;;;;;;;;;;;;AAM7E"}}]
}